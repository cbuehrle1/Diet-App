{"version":3,"sources":["components/RecipeDetailComponent.js"],"names":["window","FC","undefined","RecipeDetailComponent","state","data","extendedIngredients","instructions","nutrients","diet","$","ajax","url","props","params","recipeId","type","beforeSend","xhr","setRequestHeader","done","console","log","dietData","storeRecipeInfo","diets","getDietInfo","activeDiet","map","active","analyzedInstructions","length","steps","setState","nutrition","item","itemTwo","itemThree","itemFour","nutrientsArray","nutrient","title","indexOf","push","findNutrients","step","index","saveComponent","image","amount","unit","ingredient","originalString","React","Component"],"mappings":"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","file":"RecipeDetailComponent.js","sourcesContent":["if (window.FC === undefined) { window.FC = {}; }\n\n(() => {\n\nclass RecipeDetailComponent extends React.Component {\n\n  constructor() {\n    super();\n    this.state = { data: { extendedIngredients: [] }, instructions: [], nutrients: [], diet: {} }\n  }\n\n  componentDidMount() {\n\n\n    $.ajax({\n      url: \"https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/\" + this.props.params.recipeId + \"/information?includeNutrition=true\",\n      type: 'GET',\n      beforeSend: function (xhr) {\n        xhr.setRequestHeader(\"X-Mashape-Key\", \"lfLi0pd5ComshP5lbLvR2GHC5uP6p1b7AOujsnP5aI9GJrDgG1\");\n        xhr.setRequestHeader(\"Accept\", \"application/json\");\n      }\n    })\n    .done((data) => {\n      console.log(data);\n      FC.dietData.storeRecipeInfo(data);\n      var diets = FC.dietData.getDietInfo();\n      var activeDiet = {};\n\n      diets.diets.map((diet) => {\n        if (diet.active === true) {\n          activeDiet = diet\n        }\n      });\n\n      var instructions;\n\n      if (data.analyzedInstructions.length === 0) {\n        instructions = data.instructions;\n      }\n      else {\n        instructions = data.analyzedInstructions[0].steps\n      }\n\n      this.setState({\n        data: data,\n        instructions: instructions,\n        nutrients: data.nutrition.nutrients,\n        diet: activeDiet\n      });\n\n    });\n  }\n\n  findNutrients(item, itemTwo, itemThree, itemFour) {\n\n    var nutrientsArray = []\n\n    this.state.nutrients.map((nutrient) => {\n\n      if (nutrient.title.indexOf(item) !== -1) {\n        nutrientsArray.push(nutrient);\n      }\n      else if (nutrient.title === itemTwo) {\n        nutrientsArray.push(nutrient);\n      }\n      else if (nutrient.title.indexOf(itemThree) !== -1) {\n        nutrientsArray.push(nutrient);\n      }\n      else if (nutrient.title.indexOf(itemFour) !== -1) {\n        nutrientsArray.push(nutrient);\n      }\n\n    });\n\n    return nutrientsArray;\n  }\n\n  render() {\n\n    var nutrientsArray = this.findNutrients(\"Calories\", \"Fat\", \"Carbohydrates\", \"Protein\");\n\n    var instructions;\n    console.log(this.state.instructions);\n    if (typeof this.state.instructions === \"string\") {\n      instructions = <p>{this.state.instructions}</p>\n    }\n    else if (this.state.instructions === null) {\n      instructions;\n    }\n    else {\n      instructions = <div className=\"instructions\"><h2>instructions</h2><ul className=\"\">\n        {this.state.instructions.map((step, index) => {\n          return <li key={index}>{step.step}</li>;\n        })}\n      </ul></div>\n    }\n\n    var saveComponent;\n\n    if (this.state.diet.diet !== undefined) {\n      saveComponent = <FC.SaveToComponent data={this.state.data}/>\n    }\n    else {\n      saveComponent = <h2>Activate a Diet to add catagories</h2>;\n    }\n\n    return <div className=\"detail-container\"><div className=\"position-me-relative\">{saveComponent}</div><h1 className=\"react-detail-h1\">{this.state.data.title}</h1>\n      <div className=\"detail-float\">\n      <img className=\"detail-img\" src={this.state.data.image} />\n      </div>\n      <div className=\"detail-float\">\n      <h2>Nutrition Per Serving</h2>\n      <ul>\n        {nutrientsArray.map((nutrient, index) => {\n          return <li key={index}>{nutrient.title + \": \" + nutrient.amount + \" \" + nutrient.unit}</li>\n        })}\n      </ul>\n      <h2>ingredients</h2>\n      <ul className=\"\">{this.state.data.extendedIngredients.map((ingredient, index) => {\n        return <li key={index} >{ingredient.originalString}</li>;\n      })}\n      </ul>\n      </div>\n      {instructions}\n    </div>\n  }\n}\n\nFC.RecipeDetailComponent = RecipeDetailComponent;\n})()\n"]}