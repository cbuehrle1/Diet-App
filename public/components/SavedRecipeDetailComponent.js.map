{"version":3,"sources":["components/SavedRecipeDetailComponent.js"],"names":["window","FC","undefined","SavedRecipeDetailComponent","state","recipe","analyzedInstructions","extendedIngredients","nutrients","diets","cb","dietData","getSavedRecipe","props","params","catagoryId","recipeId","getDietInfo","console","log","setState","registerCallback","loadUser","onUnmount","item","itemTwo","itemThree","itemFour","nutrientsArray","deletedRecipeMsg","map","nutrient","title","indexOf","push","activeDiet","dailyValueArray","diet","active","calories","fat","carbs","protein","findActiveDiet","findNutrients","percents","i","length","percent","amount","name","image","servings","readyInMinutes","index","unit","ingredient","originalString","steps","step","React","Component"],"mappings":"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","file":"SavedRecipeDetailComponent.js","sourcesContent":["if (window.FC === undefined) { window.FC = {}; }\n\n(() => {\n\n  class SavedRecipeDetailComponent extends React.Component {\n\n    constructor() {\n      super();\n      this.state = { recipe: { analyzedInstructions: [],\n      extendedIngredients: [], nutrients: [] }, diets: { diets: [] } }\n    }\n\n    componentDidMount() {\n      var cb = () => {\n        var recipe = FC.dietData.getSavedRecipe(this.props.params.catagoryId, this.props.params.recipeId);\n        var diets = FC.dietData.getDietInfo();\n        console.log(\"did mount\")\n        this.setState({\n          recipe: recipe,\n          diets: diets\n        });\n      }\n\n      FC.dietData.registerCallback(cb);\n      FC.dietData.loadUser();\n    }\n\n    componentWillReceiveProps() {\n\n        var recipe = FC.dietData.getSavedRecipe(this.props.params.catagoryId, this.props.params.recipeId);\n        var diets = FC.dietData.getDietInfo();\n        console.log(\"received props\")\n        this.setState({\n          recipe: recipe,\n          diets: diets\n        });\n      }\n\n    componentWillUnmount() {\n\n      var cb = () => {\n        var recipe = FC.dietData.getSavedRecipe(this.props.params.catagoryId, this.props.params.recipeId);\n        var diets = FC.dietData.getDietInfo();\n\n        this.setState({\n          recipe: recipe,\n          diets: diets\n        });\n      }\n\n      FC.dietData.onUnmount(cb);\n    }\n\n    findNutrients(item, itemTwo, itemThree, itemFour) {\n\n      var nutrientsArray = []\n      var deletedRecipeMsg = \"This Recipe Has Been Deleted\"\n\n      if (this.state.recipe === undefined) {\n        return deletedRecipeMsg;\n      }\n\n      this.state.recipe.nutrients.map((nutrient) => {\n\n        if (nutrient.title.indexOf(item) !== -1) {\n          nutrientsArray.push(nutrient);\n        }\n        else if (nutrient.title === itemTwo) {\n          nutrientsArray.push(nutrient);\n        }\n        else if (nutrient.title.indexOf(itemThree) !== -1) {\n          nutrientsArray.push(nutrient);\n        }\n        else if (nutrient.title.indexOf(itemFour) !== -1) {\n          nutrientsArray.push(nutrient);\n        }\n\n      });\n\n      return nutrientsArray;\n    }\n\n    findActiveDiet() {\n      var activeDiet = {}\n      var dailyValueArray = []\n      this.state.diets.diets.map((diet) => {\n        if (diet.active === true) {\n          activeDiet = diet\n        }\n      });\n\n      dailyValueArray.push(activeDiet.calories);\n      dailyValueArray.push(activeDiet.fat);\n      dailyValueArray.push(activeDiet.carbs);\n      dailyValueArray.push(activeDiet.protein);\n\n      return dailyValueArray;\n    }\n\n\n    render() {\n\n      var diet = this.findActiveDiet();\n      var nutrients = this.findNutrients(\"Calories\", \"Fat\", \"Carbohydrates\", \"Protein\");\n      var percents = []\n\n      if (this.state.recipe === undefined) {\n        return <div className=\"detail-container\"><h1 className=\"react-detail-h1\">{nutrients}</h1></div>\n      }\n\n      for (var i = 0; i < nutrients.length; i++) {\n\n        var item = {\n          title: \"\",\n          percent: (nutrients[i].amount / diet[i]) * 100\n        }\n        percents.push(item);\n      }\n\n      if (percents[0] !== undefined) {\n\n        percents[0].title = \"Calories\";\n        percents[1].title = \"Fat\";\n        percents[2].title = \"Carbohydrates\";\n        percents[3].title = \"Protein\";\n\n      }\n\n      return <div className=\"detail-container\"><h1 className=\"react-detail-h1\">{this.state.recipe.name}</h1>\n      <div className=\"float-container\">\n        <div className=\"detail-float\"><img className=\"detail-img\" src={this.state.recipe.image} />\n          <FC.BarChartComponent percents={percents} />\n        </div>\n      <div className=\"detail-float\">\n        <h2>Servings: {this.state.recipe.servings}</h2>\n        <h2>Ready in {this.state.recipe.readyInMinutes} minutes</h2>\n        <h2>Nutritional Information</h2>\n        <ul>\n          {nutrients.map((nutrient, index) => {\n            return <li key={index}>{nutrient.title + \": \" + nutrient.amount + \" \" + nutrient.unit}</li>\n          })}\n        </ul>\n        <h2>Ingredients</h2>\n        <ul>\n          {this.state.recipe.extendedIngredients.map((ingredient, index) => {\n            return <li key={index} >{ingredient.originalString}</li>\n          })}\n        </ul>\n      </div>\n      </div>\n      <div className=\"instructions\">\n        <h2>Instructions</h2>\n        {this.state.recipe.analyzedInstructions.map((recipe, index) => {\n          return <ul key={index} >{recipe.steps.map((step, index) => {\n            return <li key={index} >{step.step}</li>\n          })}</ul>\n        })}\n      </div>\n      </div>\n    }\n\n  }\n\n  FC.SavedRecipeDetailComponent = SavedRecipeDetailComponent\n})()\n"]}