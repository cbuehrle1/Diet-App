{"version":3,"sources":["components/SaveToComponent.js"],"names":["window","FC","undefined","SaveToComponent","state","info","catagoryInfo","catagories","recipeInfo","click","cb","data","dietData","sendRecipeInfo","setState","registerCallback","loadUser","onUnmount","cataList","console","log","offsetHeight","evt","postData","name","title","servings","readyInMinutes","image","nutrients","nutrition","extendedIngredients","analyzedInstructions","$","ajax","url","target","id","method","JSON","stringify","contentType","dataType","done","req","res","ReactRouter","browserHistory","goBack","dropDown","list","map","catagory","index","saveCatagory","clicked","React","Component"],"mappings":"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","file":"SaveToComponent.js","sourcesContent":["if (window.FC === undefined) { window.FC = {}; }\n\n(() => {\n\n  class SaveToComponent extends React.Component {\n\n    constructor() {\n      super();\n      this.state = { info: { catagoryInfo: { catagories: [] }, recipeInfo: [] }, click: false }\n    }\n\n    componentDidMount() {\n      var cb = () => {\n      var data = FC.dietData.sendRecipeInfo();\n\n      this.setState({\n        info: data,\n        click: false\n      });\n      }\n\n      FC.dietData.registerCallback(cb);\n      FC.dietData.loadUser();\n    }\n\n    componentWillUnmount() {\n      var cb = () => {\n        var data = FC.dietData.sendRecipeInfo();\n\n        this.setState({\n          info: data,\n          click: false\n        });\n      }\n\n      FC.dietData.recipeInfo = []\n      FC.dietData.onUnmount(cb);\n    }\n\n    clicked() {\n      if (this.cataList !== undefined ) {\n        console.log(this.cataList.offsetHeight);\n      }\n\n      if (this.state.click === false) {\n        this.setState({\n          info: this.state.info,\n          click: true\n        });\n      }\n      else {\n        this.setState({\n          info: this.state.info,\n          click: false\n        })\n      }\n\n    }\n\n    saveCatagory(evt) {\n      console.log(this.state.info.recipeInfo[0])\n      var postData = {\n        name: this.state.info.recipeInfo[0].title,\n        servings: this.state.info.recipeInfo[0].servings,\n        readyInMinutes: this.state.info.recipeInfo[0].readyInMinutes,\n        image: this.state.info.recipeInfo[0].image,\n        nutrients: this.state.info.recipeInfo[0].nutrition.nutrients,\n        extendedIngredients: this.state.info.recipeInfo[0].extendedIngredients,\n        analyzedInstructions: this.state.info.recipeInfo[0].analyzedInstructions\n      }\n      $.ajax({\n        url: \"/api/catagory/\" + evt.target.id + \"/recipe\",\n        method: \"POST\",\n        data: JSON.stringify(postData),\n        contentType: \"application/json\",\n        dataType: \"json\"\n      })\n      .done((req, res) => {\n        FC.dietData.loadUser();\n        ReactRouter.browserHistory.goBack();\n      })\n    }\n\n    render() {\n      var dropDown;\n      console.log(\"render\", this.state.info.catagoryInfo.catagories);\n      if (this.state.click === true){\n        dropDown = <ul ref={(list) => { this.cataList = list }} className=\"save-to-dropdown\">{this.state.info.catagoryInfo.catagories.map((catagory, index) => {\n          return <li key={index} id={catagory.id} onClick={(evt) => { this.saveCatagory(evt); }}>{catagory.name}</li>\n        })}</ul>\n      }\n\n      return <div><div className=\"save-to-button\" onClick={() => { this.clicked(); }}>Save To <span>&#9660;</span></div>{dropDown}</div>\n    }\n\n  }\n\nFC.SaveToComponent = SaveToComponent;\n\n})();\n"]}