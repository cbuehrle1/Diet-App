{"version":3,"sources":["components/SaveToComponent.js"],"names":["window","FC","undefined","SaveToComponent","state","info","catagoryInfo","catagories","recipeInfo","click","data","dietData","sendRecipeInfo","setState","evt","console","log","target","id","postData","name","title","servings","readyInMinutes","image","nutrients","nutrition","extendedIngredients","analyzedInstructions","$","ajax","url","method","JSON","stringify","done","req","res","loadUser","ReactRouter","browserHistory","goBack","dropDown","map","catagory","index","saveCatagory","clicked","React","Component"],"mappings":"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","file":"SaveToComponent.js","sourcesContent":["if (window.FC === undefined) { window.FC = {}; }\n\n(() => {\n\n  class SaveToComponent extends React.Component {\n\n    constructor() {\n      super();\n      this.state = { info: { catagoryInfo: { catagories: [] }, recipeInfo: [] }, click: false }\n    }\n\n    componentDidMount() {\n\n      var data = FC.dietData.sendRecipeInfo();\n\n      this.setState({\n        info: data,\n        click: false\n      });\n\n    }\n\n    clicked() {\n\n      if (this.state.click === false) {\n        this.setState({\n          info: this.state.info,\n          click: true\n        });\n      }\n      else {\n        this.setState({\n          info: this.state.info,\n          click: false\n        })\n      }\n\n    }\n\n    saveCatagory(evt) {\n      console.log(\"save\", this.state.info.recipeInfo[0], \"to\" + evt.target.id);\n      var postData = {\n        name: this.state.info.recipeInfo[0].title,\n        servings: this.state.info.recipeInfo[0].servings,\n        readyInMinutes: this.state.info.recipeInfo[0].readyInMinutes,\n        image: this.state.info.recipeInfo[0].image,\n        nutrients: this.state.info.recipeInfo[0].nutrition.nutrients,\n        extendedIngredients: this.state.info.recipeInfo[0].extendedIngredients,\n        analyzedInstructions: this.state.info.recipeInfo[0].analyzedInstructions\n      }\n      $.ajax({\n        url: \"/api/catagory/\" + evt.target.id + \"/recipe\",\n        method: \"POST\",\n        data: JSON.stringify(postData)\n      })\n      .done((req, res) => {\n        FC.dietData.loadUser();\n        ReactRouter.browserHistory.goBack();\n      })\n    }\n\n    render() {\n      var dropDown;\n\n      if (this.state.click === true){\n        dropDown = <ul>{this.state.info.catagoryInfo.catagories.map((catagory, index) => {\n          return <li key={index} id={catagory.id} onClick={(evt) => { this.saveCatagory(evt); }}>{catagory.name}</li>\n        })}</ul>\n      }\n\n      return <div><button onClick={() => { this.clicked(); }}>Save Me</button>{dropDown}</div>\n    }\n\n  }\n\nFC.SaveToComponent = SaveToComponent;\n\n})();\n"]}