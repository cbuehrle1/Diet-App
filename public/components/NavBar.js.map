{"version":3,"sources":["components/NavBar.js"],"names":["window","FC","undefined","localStorageValue","localStorage","getItem","setItem","NavBar","state","user","displayName","sidebar","height","innerHeight","diet","diets","addCat","catagory","catagories","cb","setState","dietData","registerCallback","loadUser","props","callback","evt","preventDefault","dietIdParam","activeId","forEach","active","id","$","ajax","url","method","data","dietId","name","catagoryName","value","done","console","log","target","navBar","top","theHeight","map","makeActive","createCatagory","saveCatagory","input","deleteDiet","width","margin","paddingTop","moveToSideBar","React","Component"],"mappings":";;;;;;;;;;AAAA,IAAIA,OAAOC,EAAP,KAAcC,SAAlB,EAA6B;AAAEF,SAAOC,EAAP,GAAY,EAAZ;AAAiB;;AAEhD,CAAC,YAAM;;AAEL,MAAIE,oBAAoBC,aAAaC,OAAb,CAAqB,SAArB,CAAxB;;AAEA,MAAIF,sBAAsB,IAA1B,EAAgC;AAAEC,iBAAaE,OAAb,CAAqB,SAArB,EAAgC,cAAhC;AAAiD;;AAEnFH,sBAAoBC,aAAaC,OAAb,CAAqB,SAArB,CAApB;;AANK,MAQCE,MARD;AAAA;;AAUH,sBAAc;AAAA;;AAAA;;AAEZ,YAAKC,KAAL,GAAa,EAAEC,MAAM;AACnBC,uBAAa;AADM,SAAR,EAEVC,SAASR,iBAFC;AAGbS,gBAAQZ,OAAOa,WAHF;AAIbC,cAAM,EAAEC,OAAO,EAAT,EAJO;AAKbC,gBAAQ,KALK;AAMbC,kBAAU,EAAEC,YAAY,EAAd;AANG,OAAb;;AAFY;AAWb;;AArBE;AAAA;AAAA,0CAuBiB;AAAA;;AAElB,YAAIC,KAAK,SAALA,EAAK,CAACV,IAAD,EAAOK,IAAP,EAAaG,QAAb,EAA0B;;AAEjC,cAAIA,aAAaf,SAAjB,EAA4B;AAC1B,mBAAKkB,QAAL,CAAc;AACZX,oBAAMA,IADM;AAEZE,uBAAS,OAAKH,KAAL,CAAWG,OAFR;AAGZC,sBAAQZ,OAAOa,WAHH;AAIZC,oBAAMA,IAJM;AAKZE,sBAAQ,KALI;AAMZC,wBAAU,OAAKT,KAAL,CAAWS;AANT,aAAd;AASD,WAVD,MAUO;;AAEL,mBAAKG,QAAL,CAAc;AACZX,oBAAMA,IADM;AAEZE,uBAAS,OAAKH,KAAL,CAAWG,OAFR;AAGZC,sBAAQZ,OAAOa,WAHH;AAIZC,oBAAMA,IAJM;AAKZE,sBAAQ,KALI;AAMZC,wBAAUA;AANE,aAAd;AASD;AAEF,SAzBD;;AA2BAhB,WAAGoB,QAAH,CAAYC,gBAAZ,CAA6BH,EAA7B;;AAEAlB,WAAGoB,QAAH,CAAYE,QAAZ;AACD;AAvDE;AAAA;AAAA,sCAyDa;AACdnB,qBAAaE,OAAb,CAAqB,SAArB,EAAgC,UAAhC;AACA,aAAKkB,KAAL,CAAWC,QAAX;AACA,aAAKL,QAAL,CAAc;AACZX,gBAAM,KAAKD,KAAL,CAAWC,IADL;AAEZE,mBAAS;AAFG,SAAd;AAKD;AAjEE;AAAA;AAAA,uCAmEc;;AAEf,aAAKS,QAAL,CAAc;AACZX,gBAAM,KAAKD,KAAL,CAAWC,IADL;AAEZE,mBAAS,KAAKH,KAAL,CAAWG,OAFR;AAGZC,kBAAQZ,OAAOa,WAHH;AAIZC,gBAAM,KAAKN,KAAL,CAAWM,IAJL;AAKZE,kBAAQ;AALI,SAAd;AAQD;AA7EE;AAAA;AAAA,mCA+EUU,GA/EV,EA+Ee;AAAA;;AAEhBA,YAAIC,cAAJ;;AAEA,YAAIC,cAAc,SAAdA,WAAc,GAAM;AACtB,cAAIC,QAAJ;;AAEA,iBAAKrB,KAAL,CAAWM,IAAX,CAAgBC,KAAhB,CAAsBe,OAAtB,CAA8B,UAAChB,IAAD,EAAU;;AAEtC,gBAAIA,KAAKiB,MAAL,KAAgB,IAApB,EAA0B;AACxBF,yBAAWf,KAAKkB,EAAhB;AAED;AAEF,WAPD;;AASA,iBAAOH,QAAP;AACD,SAbD;;AAgBAI,UAAEC,IAAF,CAAO;AACLC,eAAK,eADA;AAELC,kBAAQ,MAFH;AAGLC,gBAAM;AACJC,oBAAQV,aADJ;AAEJW,kBAAM,KAAKC,YAAL,CAAkBC;AAFpB;AAHD,SAAP,EAQCC,IARD,CAQM,UAACL,IAAD,EAAU;AACdM,kBAAQC,GAAR,CAAYP,IAAZ;AACApC,aAAGoB,QAAH,CAAYE,QAAZ;AACD,SAXD;AAaD;AAhHE;AAAA;AAAA,iCAkHQG,GAlHR,EAkHa;;AAEdO,UAAEC,IAAF,CAAO;AACLC,eAAK,qBAAqBT,IAAImB,MAAJ,CAAWb,EADhC;AAELI,kBAAQ,MAFH;AAGLC,gBAAM;AAHD,SAAP,EAKCK,IALD,CAKM,UAACL,IAAD,EAAU;AACdpC,aAAGoB,QAAH,CAAYE,QAAZ;AACD,SAPD;AASD;AA7HE;AAAA;AAAA,+BA+HM;AAAA;;AACP,YAAIuB,MAAJ;AACA,YAAIC,MAAO,KAAKvC,KAAL,CAAWI,MAAX,GAAkB,CAAnB,GAAwB,GAAlC;AACA,YAAIoC,YAAY,KAAKxC,KAAL,CAAWI,MAAX,GAAoB,EAApC;AACA,YAAImB,MAAJ;;AAEA,YAAI,KAAKvB,KAAL,CAAWG,OAAX,KAAuB,UAA3B,EAAuC;;AAErCmC,mBAAS;AAAA;AAAA,cAAK,WAAW,KAAKtC,KAAL,CAAWG,OAA3B,EAAoC,OAAQ,EAAEC,QAAQoC,SAAV,EAA5C;AAAoE;AAAA;AAAA,gBAAK,WAAU,oBAAf;AAC3E;AAAA;AAAA,kBAAI,WAAU,UAAd;AAA0B,qBAAKxC,KAAL,CAAWC,IAAX,CAAgBC,WAAhB,GAA8B,GAAxD;AAAA;AAAA,eAD2E;AAE1E,mBAAKF,KAAL,CAAWM,IAAX,CAAgBC,KAAhB,CAAsBkC,GAAtB,CAA0B,UAACnC,IAAD,EAAU;;AAEnC,oBAAII,UAAJ;;AAEA,oBAAIJ,KAAKiB,MAAL,KAAgB,KAApB,EAA2B;AACzBA,2BAAS;AAAA;AAAA,sBAAI,IAAIjB,KAAKkB,EAAb,EAAiB,SAAS,iBAACN,GAAD,EAAS;AAAE,+BAAKwB,UAAL,CAAgBxB,GAAhB;AAAuB,uBAA5D;AAAA;AAAA,mBAAT;AACD,iBAFD,MAGK;AACHK,2BAAS7B,SAAT;;AAEA,sBAAI,OAAKM,KAAL,CAAWQ,MAAX,KAAsB,KAA1B,EAAiC;AAC/BE,iCAAa;AAAA;AAAA;AAAK;AAAA;AAAA,0BAAI,WAAU,cAAd,EAA6B,SAAS,mBAAM;AAAE,mCAAKiC,cAAL;AAAwB,2BAAtE;AAAA;AAAA,uBAAL;AACb,0CAAC,EAAD,CAAI,oBAAJ,IAAyB,QAAQrC,KAAKkB,EAAtC,EAA0C,UAAU,OAAKxB,KAAL,CAAWS,QAAX,CAAoBC,UAAxE;AADa,qBAAb;AAID,mBALD,MAMK;AACHA,iCAAa;AAAA;AAAA;AAAK;AAAA;AAAA,0BAAM,UAAU,kBAACQ,GAAD,EAAS;AAAE,mCAAK0B,YAAL,CAAkB1B,GAAlB;AAAyB,2BAApD;AAAsD,uDAAO,KAAK,aAAC2B,KAAD,EAAW;AAAE,mCAAKb,YAAL,GAAoBa,KAApB;AAA2B,2BAApD,EAAsD,aAAY,cAAlE;AAAtD,uBAAL;AACb,0CAAC,EAAD,CAAI,oBAAJ,IAAyB,QAAQvC,KAAKkB,EAAtC;AACA,kCAAU,OAAKxB,KAAL,CAAWS,QAAX,CAAoBC,UAD9B;AADa,qBAAb;AAID;AACF;;AAED,uBAAO;AAAA;AAAA,oBAAK,KAAKJ,KAAKkB,EAAf;AAAmB;AAAA;AAAA;AAAKlB,yBAAKA;AAAV,mBAAnB;AAAuC;AAAA;AAAA;AAAI;AAAC,iCAAD,CAAa,IAAb;AAAA,wBAAkB,IAAI,WAAWA,KAAKkB,EAAtC;AAAA;AAAA;AAAJ,mBAAvC;AACF;AAAA;AAAA,sBAAI,SAAS,mBAAM;AAAE/B,2BAAGoB,QAAH,CAAYiC,UAAZ,CAAuBxC,KAAKkB,EAA5B;AAAkC,uBAAvD;AAAA;AAAA,mBADE;AACmED,wBADnE;AAC2Eb;AAD3E,iBAAP;AAED,eA1BA;AAF0E;AAApE,WAAT;AA+BD,SAjCD,MAiCO;AACL4B,mBAAS;AAAA;AAAA,cAAK,WAAW,KAAKtC,KAAL,CAAWG,OAA3B,EAAoC,OAAQ,EAAEC,QAAQoC,SAAV,EAA5C;AAAoE;AAAA;AAAA,gBAAK,OAAO,EAAEO,OAAO,OAAT,EAAkBC,QAAQ,QAA1B,EAAoCC,YAAYV,GAAhD,EAAZ;AAAmE;AAAA;AAAA;AAAA;AAAa,qBAAKvC,KAAL,CAAWC,IAAX,CAAgBC;AAA7B,eAAnE;AAC7E;AAAA;AAAA;AAAA;AAAA,eAD6E;AACsB;AAAA;AAAA;AAAA;AAAA,eADtB;AAE7E;AAAA;AAAA,kBAAK,WAAU,cAAf,EAA8B,SAAS,mBAAM;AAAE,2BAAKgD,aAAL;AAAuB,mBAAtE;AAAA;AAAA;AAF6E;AAApE,WAAT;AAID;;AAED,eAAO;AAAA;AAAA;AAAMZ;AAAN,SAAP;AACD;AA9KE;;AAAA;AAAA,IAQgBa,MAAMC,SARtB;;AAmLL3D,KAAGM,MAAH,GAAYA,MAAZ;AACD,CApLD","file":"NavBar.js","sourcesContent":["if (window.FC === undefined) { window.FC = {}; }\n\n(() => {\n\n  var localStorageValue = localStorage.getItem(\"sidebar\");\n\n  if (localStorageValue === null) { localStorage.setItem(\"sidebar\", \"main-landing\") }\n\n  localStorageValue = localStorage.getItem(\"sidebar\");\n\n  class NavBar extends React.Component {\n\n    constructor() {\n      super();\n      this.state = { user: {\n        displayName: \"\"\n      }, sidebar: localStorageValue,\n      height: window.innerHeight,\n      diet: { diets: [] },\n      addCat: false,\n      catagory: { catagories: [] }\n      }\n\n    }\n\n    componentDidMount() {\n\n      var cb = (user, diet, catagory) => {\n\n        if (catagory === undefined) {\n          this.setState({\n            user: user,\n            sidebar: this.state.sidebar,\n            height: window.innerHeight,\n            diet: diet,\n            addCat: false,\n            catagory: this.state.catagory\n          });\n\n        } else {\n\n          this.setState({\n            user: user,\n            sidebar: this.state.sidebar,\n            height: window.innerHeight,\n            diet: diet,\n            addCat: false,\n            catagory: catagory\n          });\n\n        }\n\n      }\n\n      FC.dietData.registerCallback(cb);\n\n      FC.dietData.loadUser();\n    }\n\n    moveToSideBar() {\n      localStorage.setItem(\"sidebar\", \"side-bar\");\n      this.props.callback();\n      this.setState({\n        user: this.state.user,\n        sidebar: \"side-bar\"\n      });\n\n    }\n\n    createCatagory() {\n\n      this.setState({\n        user: this.state.user,\n        sidebar: this.state.sidebar,\n        height: window.innerHeight,\n        diet: this.state.diet,\n        addCat: true\n      });\n\n    }\n\n    saveCatagory(evt) {\n\n      evt.preventDefault();\n\n      var dietIdParam = () => {\n        var activeId;\n\n        this.state.diet.diets.forEach((diet) => {\n\n          if (diet.active === true) {\n            activeId = diet.id;\n\n          }\n\n        });\n\n        return activeId;\n      }\n\n\n      $.ajax({\n        url: \"/api/catagory\",\n        method: \"POST\",\n        data: {\n          dietId: dietIdParam(),\n          name: this.catagoryName.value\n        }\n      })\n      .done((data) => {\n        console.log(data);\n        FC.dietData.loadUser();\n      });\n\n    }\n\n    makeActive(evt) {\n\n      $.ajax({\n        url: \"/api/makeactive/\" + evt.target.id,\n        method: \"POST\",\n        data: {}\n      })\n      .done((data) => {\n        FC.dietData.loadUser();\n      })\n\n    }\n\n    render() {\n      var navBar;\n      var top = (this.state.height/2) - 170;\n      var theHeight = this.state.height - 36;\n      var active;\n\n      if (this.state.sidebar === \"side-bar\") {\n\n        navBar = <div className={this.state.sidebar} style={ { height: theHeight } }><div className=\"left-nav-container\">\n          <h1 className=\"title-h1\">{this.state.user.displayName + \"'\"}s Diets</h1>\n          {this.state.diet.diets.map((diet) => {\n\n            var catagories;\n\n            if (diet.active === false) {\n              active = <h2 id={diet.id} onClick={(evt) => { this.makeActive(evt); }}>Activate</h2>;\n            }\n            else {\n              active = undefined;\n\n              if (this.state.addCat === false) {\n                catagories = <div><h3 className=\"add-catagory\" onClick={() => { this.createCatagory(); }} >add catagory</h3>\n                <FC.SavedRecipeComponent dietId={diet.id} catagory={this.state.catagory.catagories} />\n                </div>\n\n              }\n              else {\n                catagories = <div><form onSubmit={(evt) => { this.saveCatagory(evt); }}><input ref={(input) => { this.catagoryName = input }} placeholder=\"add catagory\" /></form>\n                <FC.SavedRecipeComponent dietId={diet.id}\n                catagory={this.state.catagory.catagories} />\n                </div>\n              }\n            }\n\n            return <div key={diet.id}><h1>{diet.diet}</h1><h2><ReactRouter.Link to={\"/diet/\" + diet.id}>Edit</ReactRouter.Link>\n            </h2><h2 onClick={() => { FC.dietData.deleteDiet(diet.id); }}>Delete</h2>{active}{catagories}</div>\n          })}\n        </div>\n        </div>\n      } else {\n        navBar = <div className={this.state.sidebar} style={ { height: theHeight } }><div style={{ width: \"620px\", margin: \"0 auto\", paddingTop: top }}><h1>Welcome {this.state.user.displayName}</h1>\n        <p>This is an app designed around searching and saving recipes within the context of your diet.</p><p>Press Enter to start exploring recipies today!</p>\n        <div className=\"start-button\" onClick={() => { this.moveToSideBar(); }}>Enter</div></div>\n        </div>;\n      }\n\n      return <div>{navBar}</div>\n    }\n\n\n  }\n\n  FC.NavBar = NavBar\n})()\n"]}