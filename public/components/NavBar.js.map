{"version":3,"sources":["components/NavBar.js"],"names":["window","FC","undefined","NavBar","state","user","displayName","sidebar","height","innerHeight","diet","diets","addCat","catagory","catagories","cb","setState","dietData","registerCallback","loadUser","props","callback","evt","preventDefault","$","ajax","url","method","data","dietId","id","name","catagoryName","value","done","navBar","top","theHeight","createCatagory","saveCatagory","input","map","deleteDiet","width","margin","paddingTop","moveToSideBar","React","Component"],"mappings":"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","file":"NavBar.js","sourcesContent":["if (window.FC === undefined) { window.FC = {}; }\n\n(() => {\n\n  class NavBar extends React.Component {\n\n    constructor() {\n      super();\n      this.state = { user: {\n        displayName: \"\"\n      }, sidebar: \"main-landing\",\n      height: window.innerHeight,\n      diet: { diets: [] },\n      addCat: false,\n      catagory: { catagories: [] }\n      }\n    }\n\n    componentDidMount() {\n\n      var cb = (user, diet, catagory) => {\n\n        this.setState({\n          user: user,\n          sidebar: this.state.sidebar,\n          height: window.innerHeight,\n          diet: diet,\n          addCat: false,\n          catagory: catagory\n        });\n\n      }\n\n      FC.dietData.registerCallback(cb);\n\n      FC.dietData.loadUser();\n\n    }\n\n    moveToSideBar() {\n      this.props.callback();\n      this.setState({\n        user: this.state.user,\n        sidebar: \"side-bar\"\n      });\n    }\n\n    createCatagory() {\n\n      this.setState({\n        user: this.state.user,\n        sidebar: this.state.sidebar,\n        height: window.innerHeight,\n        diet: this.state.diet,\n        addCat: true\n      });\n\n    }\n\n    saveCatagory(evt) {\n\n      evt.preventDefault();\n\n      $.ajax({\n        url: \"/api/catagory\",\n        method: \"POST\",\n        data: {\n          dietId: this.state.diet.diets[0].id,\n          name: this.catagoryName.value\n        }\n      })\n      .done((data) => {\n        FC.dietData.loadUser();\n      })\n\n    }\n\n    render() {\n      var navBar;\n      var top = (this.state.height/2) - 151;\n      var theHeight = this.state.height - 36;\n      var catagories;\n\n      if (this.state.addCat === false) {\n        catagories = <p onClick={() => { this.createCatagory(); }} >add catagory</p>\n      } else {\n        catagories = <form onSubmit={(evt) => { this.saveCatagory(evt); }}><input ref={(input) => { this.catagoryName = input }} placeholder=\"Catagory Name\" /></form>\n      }\n\n      if (this.state.sidebar === \"side-bar\") {\n        navBar = <div className={this.state.sidebar} style={ { height: theHeight } }>\n          <h1>{this.state.user.displayName + \"'\"}s Pairings</h1>\n          {this.state.diet.diets.map((diet) => {\n            return <div key={diet.id}><h1>{diet.diet}</h1><p><ReactRouter.Link to={\"/diet/\" + diet.id}>Edit</ReactRouter.Link></p><p onClick={() => { FC.dietData.deleteDiet(diet.id); }}>Delete</p></div>\n          })}\n          {catagories}\n        </div>\n      } else {\n        navBar = <div className={this.state.sidebar} style={ { height: theHeight } }><div style={{ width: \"620px\", margin: \"0 auto\", paddingTop: top }}><h1>Welcome {this.state.user.displayName}</h1>\n        <p>This is an app designed around food pairing. Press Enter to start exploring new custom recipies today!</p>\n        <div className=\"start-button\" onClick={() => { this.moveToSideBar(); }}>Enter</div></div>\n        </div>;\n      }\n\n      return <div>{navBar}</div>\n    }\n\n\n  }\n\n  FC.NavBar = NavBar\n})()\n"]}