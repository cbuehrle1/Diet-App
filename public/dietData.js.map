{"version":3,"sources":["dietData.js"],"names":["window","FC","undefined","dietData","getCatagories","user","diet","userVar","dietVar","diets","length","callbacks","forEach","cb","activeDiet","active","id","$","ajax","url","done","data","getDiets","loadUser","registerCallback","push","deleteDiet","method"],"mappings":";;AAAA,IAAIA,OAAOC,EAAP,KAAcC,SAAlB,EAA6B;AAAEF,SAAOC,EAAP,GAAY,EAAZ;AAAiB;;AAEhD,CAAC,YAAM;;AAEL,MAAIE,QAAJ;;AAEAH,SAAOC,EAAP,CAAUE,QAAV,GAAqB;;AAEnBC,mBAAe,uBAAUC,IAAV,EAAgBC,IAAhB,EAAsB;AAAA;;AACnC,UAAIC,UAAUF,IAAd;AACA,UAAIG,UAAUF,IAAd;;AAEA,UAAIE,QAAQC,KAAR,CAAcC,MAAd,KAAyB,CAA7B,EAAgC;;AAE9B,aAAKC,SAAL,CAAeC,OAAf,CAAuB,UAACC,EAAD,EAAQ;AAAEA,aAAGN,OAAH,EAAYC,OAAZ;AAAuB,SAAxD;AACD,OAHD,MAIK;;AAEH,YAAIM,UAAJ;;AAEAN,gBAAQC,KAAR,CAAcG,OAAd,CAAsB,UAACN,IAAD,EAAU;AAC9B,cAAIA,KAAKS,MAAL,KAAgB,IAApB,EAA0B;AACxBD,yBAAaR,KAAKU,EAAlB;AACD;AAEF,SALD;;AAOA,YAAIF,eAAeZ,SAAnB,EAA8B;AAC5B,eAAKS,SAAL,CAAeC,OAAf,CAAuB,UAACC,EAAD,EAAQ;AAAEA,eAAGN,OAAH,EAAYC,OAAZ;AAAuB,WAAxD;AACD,SAFD,MAGK;AACHS,YAAEC,IAAF,CAAO;AACLC,iBAAK,mBAAmBL;AADnB,WAAP,EAGCM,IAHD,CAGM,UAACC,IAAD,EAAU;AACd,kBAAKV,SAAL,CAAeC,OAAf,CAAuB,UAACC,EAAD,EAAQ;AAAEA,iBAAGN,OAAH,EAAYC,OAAZ,EAAqBa,IAArB;AAA6B,aAA9D;AACD,WALD;AAOD;AAEF;AAEF,KApCkB;;AAsCnBC,cAAU,kBAASjB,IAAT,EAAe;AAAA;;AACvB,UAAIE,UAAUF,IAAd;;AAEAY,QAAEC,IAAF,CAAO;AACLC,aAAK;AADA,OAAP,EAGCC,IAHD,CAGM,UAACC,IAAD,EAAU;AACd,eAAKjB,aAAL,CAAmBC,IAAnB,EAAyBgB,IAAzB;AACD,OALD;AAOD,KAhDkB;;AAkDnBV,eAAW,EAlDQ;;AAoDnBY,cAAU,oBAAW;AAAA;;AACnBN,QAAEC,IAAF,CAAO;AACLC,aAAK;AADA,OAAP,EAGCC,IAHD,CAGM,UAACC,IAAD,EAAU;AACd,eAAKC,QAAL,CAAcD,IAAd;AACD,OALD;AAMD,KA3DkB;;AA6DnBG,sBAAkB,0BAASX,EAAT,EAAa;AAC7B,WAAKF,SAAL,CAAec,IAAf,CAAoBZ,EAApB;AACD,KA/DkB;;AAiEnBa,gBAAY,oBAASpB,IAAT,EAAe;AAAA;;AACzBW,QAAEC,IAAF,CAAO;AACLC,aAAK,cAAcb,IADd;AAELqB,gBAAQ;AAFH,OAAP,EAICP,IAJD,CAIM,UAACC,IAAD,EAAU;AACd,eAAKE,QAAL;AACD,OAND;AAOD;;AAzEkB,GAArB;AA6ED,CAjFD","file":"dietData.js","sourcesContent":["if (window.FC === undefined) { window.FC = {}; }\n\n(() => {\n\n  var dietData;\n\n  window.FC.dietData = {\n\n    getCatagories: function (user, diet) {\n      var userVar = user;\n      var dietVar = diet;\n\n      if (dietVar.diets.length === 0) {\n\n        this.callbacks.forEach((cb) => { cb(userVar, dietVar); })\n      }\n      else {\n\n        var activeDiet;\n\n        dietVar.diets.forEach((diet) => {\n          if (diet.active === true) {\n            activeDiet = diet.id;\n          }\n\n        });\n\n        if (activeDiet === undefined) {\n          this.callbacks.forEach((cb) => { cb(userVar, dietVar); })\n        }\n        else {\n          $.ajax({\n            url: \"/api/catagory/\" + activeDiet\n          })\n          .done((data) => {\n            this.callbacks.forEach((cb) => { cb(userVar, dietVar, data); })\n          })\n\n        }\n\n      }\n\n    },\n\n    getDiets: function(user) {\n      var userVar = user;\n\n      $.ajax({\n        url: \"/api/diet\"\n      })\n      .done((data) => {\n        this.getCatagories(user, data);\n      });\n\n    },\n\n    callbacks: [],\n\n    loadUser: function() {\n      $.ajax({\n        url: \"api/user\"\n      })\n      .done((data) => {\n        this.getDiets(data);\n      })\n    },\n\n    registerCallback: function(cb) {\n      this.callbacks.push(cb);\n    },\n\n    deleteDiet: function(diet) {\n      $.ajax({\n        url: \"api/diet/\" + diet,\n        method: \"DELETE\"\n      })\n      .done((data) => {\n        this.loadUser();\n      });\n    }\n\n  }\n\n})();\n"]}